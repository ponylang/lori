## Fix GC unfriendly connection limiting

The original version of connection limiting was unfriendly to the garbage collector. This could result in large amounts of memory bloat. This has been fixed by switching to a more GC friendly strategy.
